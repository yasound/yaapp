{% load i18n %}
{% load thumbnail %}
{% load compressed %}
{% load compress %}
{% load straight_include %}<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="{{current_locale}}" lang="{{current_locale}}">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# yasoundev: http://ogp.me/ns/fb/yasoundev#">
    <title>{% block head_title %}Yasound{% endblock %}</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="icon" type="image/png" href="/media/app/images/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0 initial-scale=1, maximum-scale=1, user-scalable=0">
    <meta name="description" content="Avec Yasound, créez votre radio en un instant, écoutez la musique avec vos amis, et communiquez avec eux en temps réel." />
    <meta name="Author" content="Yasound SAS" />
    <meta name="copyright" content="Yasound SAS" />
    <meta http-equiv="Cache-control" content="public" />
    <meta name="language" content="french" />
    <meta name="format-detection" content="telephone=no">

<!--[if lt IE 9]>
<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
<script type="text/javascript" type="text/javascript" src="/media/js/flot/excanvas.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>

{% block extra_head %}
    {% block fb_open_graph %}{% endblock %}

    <link rel="image_src" href="/media/yaweb/images/logo.png" />

    <script type="text/javascript" src="{% url django.views.i18n.javascript_catalog %}"></script>

<style type="text/css">
HTML, BODY { height: 100%; }
#loading-mask {
     position: absolute;
     top: 0;
     left: 0;
     width: 100%;
     height: 100%;
     background-color: #f0f0f0;
     z-index: 2000;
}
#loading {
     position: absolute;
     top: 50%;
     left: 50%;
     z-index: 2002;
}
#loading span {
     background: url('/media/images/loader-gray.gif') no-repeat left center;
     padding: 5px 30px;
     position:relative;
     margin:0 auto;
     left:-60px;
     top:-20px;
     display: block;
     color: black;
}
</style>



    {% compress css %}
    <link rel="stylesheet" href="/media/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/media/bootstrap/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="/media/css/flashblock.css"/>
    <link rel="stylesheet" href="/media/css/auth-buttons.css"/>
    <link rel="stylesheet" href="/media/jquery-ui-1.8.21.custom/css/ui-lightness/jquery-ui-1.8.21.custom.css"/>
	<link rel="stylesheet" href="/media/css/uniform.yasound.css/uniform.yasound.css" />


    <link rel="stylesheet" href="/media/js/colibri/colibri.css"/>
    <link rel="stylesheet" href="/media/js/chosen/chosen.css"/>
    <link rel="stylesheet" href="/media/css/bootstrap-toggle-buttons.css"/>

    <link rel="stylesheet" href="/media/css/webapp.css"/>
    {% endcompress %}

{% compress js %}
   	<script type="text/javascript" src='/media/js/jquery-1.7.1.min.js'></script>
    <script type="text/javascript" src='/media/js/jquery.timers.js'></script>
    <script type="text/javascript" src='/media/js/moment.min.js'></script>
    <script type="text/javascript" src='/media/js/moment-lang-all.min.js'></script>
    <script type="text/javascript" src='/media/js/json2.js'></script>
    <script type="text/javascript" src='/media/js/mustache-django-friendly.js'></script>
    <script type="text/javascript" src='/media/js/ICanHaz-no-mustache.min.js'></script>
    <script type="text/javascript" src='/media/js/underscore-min.js'></script>
    <script type="text/javascript" src='/media/js/underscore.string.min.js'></script>
    <script type="text/javascript" src='/media/js/backbone-min.js'></script>
    <script type="text/javascript" src='/media/js/backbone-tastypie.js'></script>
    <script type="text/javascript" src='/media/js/backbone.paginator.js'></script>
    <script type="text/javascript" src='/media/bootstrap/js/bootstrap.min.js'></script>
    <script type="text/javascript" src='/media/js/pubsub.js'></script>
    <script type="text/javascript" src='/media/js/Namespace.js'></script>
    <script type="text/javascript" src='/media/js/colibri/colibri.js'></script>
    <script type="text/javascript" src='/media/js/chosen/chosen.jquery.min.js'></script>
    <script type="text/javascript" src="/media/js/jquery.imgr.min.js"></script>
    <script type="text/javascript" src="/media/jquery-ui-1.8.21.custom/js/jquery-ui-1.8.21.custom.min.js"></script>
    <script type="text/javascript" src="/media/js/cookies.js"></script>
    <script type="text/javascript" type="text/javascript" src="/media/js/flot/jquery.flot.js"></script>
    <script type="text/javascript" type="text/javascript" src="/media/js/flot/jquery.flot.selection.js"></script>
    <script language="javascript" type="text/javascript" src="/media/js/flot/jquery.flot.resize.js"></script>
    <script src="/media/js/jquery.toggle.buttons.js" type="text/javascript"></script>
    <script src="/media/js/jquery.uniform.js" type="text/javascript"></script>
{% endcompress %}

    {% ifequal sound_player 'soundmanager' %}
    <script type="text/javascript" src='/media/js/sm/soundmanager2-nodebug-jsmin.js'></script>
    {% endifequal %}

    {% ifequal sound_player 'deezer' %}
    <script type="text/javascript" src="https://cdns-files.deezer.com/js/min/dzapp.js"></script>
    {% endifequal %}

    <script type="text/javascript" src='/media/js/socket.io.js'></script>

    <!-- Shim to make HTML5 elements usable in older Internet Explorer versions -->
    <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <!-- The Templates plugin is included to render the upload/download listings -->

    <script src="/media/blueimp/js/jquery.iframe-transport.js"></script>
    <script src="/media/blueimp/js/jquery.fileupload.js"></script>
    <script src="/media/blueimp/js/locale.js"></script>
    <!-- The XDomainRequest Transport is included for cross-domain file deletion for IE8+ -->
    <!--[if gte IE 8]><script src="/media/blueimp/js/cors/jquery.xdr-transport.js"></script><![endif]-->
    <script src="/media/js/load-image.min.js"></script>


	<!--[if (gte IE 6)&(lte IE 8)]>
	  <script type="text/javascript" src="/media/js/selectivizr-min.js"></script>
	  <link rel="stylesheet" href="/media/css/ie.css" />
      <link rel="stylesheet" href="/media/css/ie.css" />
	<![endif]-->

    {% compressed_js 'webapp-all' %}
    <script type="text/javascript">
       moment.lang('{{request.LANGUAGE_CODE}}');
       var g_root = '{{ root }}';
       var g_app_name = '{{ app_name }}';
       var g_authenticated = {% if request.user.is_authenticated %}1{% else %}0{% endif %};
       var g_username = '{% if request.user.is_authenticated %}{{request.user.username}}{% endif %}';
       var g_push_url = '{{ push_url }}';
       var g_enable_push = {% if enable_push %}true{% else %}false{% endif %};
       var g_facebook_share_picture = '{{ facebook_share_picture}}';
       var g_facebook_share_link = '{{ facebook_share_link}}';
       var g_has_radios = {% if has_radios %}true{% else %}false{% endif %};
       var g_page = '{{ g_page }}';
       var g_bootstrapped_data = {% if bdata %}{{ bdata|safe }}{% else %}undefined{% endif %};
       var g_default_radio_uuid = '{{ current_uuid }}';
       var g_sound_player = '{{ sound_player }}';
       var g_show_welcome_popup = {% if show_welcome_popup %}true{% else %}false{% endif %};
       var g_hd_enabled = {% if hd_enabled %}true{% else %}false{% endif %};
       {% if twitter_referal %}
       var g_twitter_referal = '{{ twitter_referal|safe }}';
       {% endif %}
       {% if email_referal %}
       var g_email_referal = '{{ email_referal|safe }}';
       {% endif %}
    </script>


   <script type="text/html" id="radioTemplate">
      {% include "yabase/app/radio/radio.mustache" with radio=None %}
   </script>
   <script type="text/html" id="trackInRadioTemplate">
      {% include "yabase/app/radio/track.mustache" with yasound_song=None %}
   </script>
   <script type="text/html" id="giftTemplate">
      {% include "yabase/app/gifts/gift.mustache" %}
   </script>

   <script type="text/html" id="trackTemplate">
      {% include "yabase/app/track.mustache" with yasound_song=None %}
   </script>

   <script type="text/html" id="signupPageTemplate">
      {% include "yabase/app/signup/signup.mustache" %}
   </script>
   <script type="text/html" id="loginPageTemplate">
      {% include "yabase/app/login/login.mustache" %}
   </script>

   <script type='text/html' id='profilePageTemplate'>
     {% include "yabase/app/profile/profilePage.mustache" %}
   </script>
   <script type='text/html' id='userTemplate'>
     {% include "yabase/app/profile/user.mustache" %}
   </script>

   <script type='text/html' id='radioPageTemplate'>
     {% include "yabase/app/radio/radioPage.mustache" with wall_events=None%}
   </script>

   <script type="text/html" id="wallEventTemplateMessage">
      {% include "yabase/app/radio/wallEvent.message.mustache" %}
   </script>
   <script type="text/html" id="wallEventTemplateLike">
      {% include "yabase/app/radio/wallEvent.like.mustache" %}
   </script>
   <script type="text/html" id="wallEventTemplateSong">
      {% include "yabase/app/radio/wallEvent.song.mustache" %}
   </script>

   <script type="text/html" id="radioUserTemplate">
      {% include "yabase/app/radio/radioUser.mustache" %}
   </script>

   <script type='text/html' id='paginationTemplate'>
     {% include "yabase/app/pagination.mustache" %}
   </script>


   <script type='text/html' id='radioCellTemplate'>
     {% include "yabase/app/radioCell.mustache" %}
   </script>

   <script type='text/html' id='userCellTemplate'>
     {% include "yabase/app/userCell.mustache" %}
   </script>

   <script type='text/html' id='searchPageTemplate'>
     {% include "yabase/app/searchPage.mustache" %}
   </script>

   <script type='text/html' id='homePageTemplate'>
     {% include "yabase/app/home/homePage.mustache" %}
   </script>

   <script type="text/html" id="connectedUserTemplate">
      {% include "yabase/app/common/connectedUser.mustache" with user=None%}
   </script>

   <script type="text/html" id="subMenuTemplate">
      {% include "yabase/app/common/subMenu.mustache" %}
   </script>


   <script type='text/html' id='topRadiosPageTemplate'>
     {% include "yabase/app/top/topRadiosPage.mustache" with radios=None %}
   </script>

   <script type='text/html' id='usersPageTemplate'>
     {% include "yabase/app/users/usersPage.mustache" %}
   </script>

   <script type='text/html' id='userFavoritesPageTemplate'>
     {% include "yabase/app/favorites/userFavoritesPage.mustache" %}
   </script>
   <script type='text/html' id='userFriendsPageTemplate'>
     {% include "yabase/app/friends/userFriendsPage.mustache" %}
   </script>
   <script type='text/html' id='userFollowersPageTemplate'>
     {% include "yabase/app/friends/userFollowersPage.mustache" %}
   </script>
   <script type='text/html' id='userRadiosPageTemplate'>
     {% include "yabase/app/radio/userRadiosPage.mustache" %}
   </script>

   <script type='text/html' id='listenersPageTemplate'>
     {% include "yabase/app/radio/listenersPage.mustache" %}
   </script>

   <script type='text/html' id='favoritesPageTemplate'>
     {% include "yabase/app/favorites/favoritesPage.mustache" %}
   </script>

   <script type='text/html' id='friendsPageTemplate'>
     {% include "yabase/app/friends/friendsPage.mustache" %}
   </script>

   <script type="text/html" id="wallInputTemplate">
      {% include "yabase/app/radio/wallInput.mustache" %}
   </script>
{% if request.user.is_authenticated %}

   <script type="text/html" id="settingsPageTemplate">
      {% include "yabase/app/settings/settingsPage.mustache" %}
   </script>

   <script type="text/html" id="notificationsPageTemplate">
      {% include "yabase/app/notifications/notificationsPage.mustache" with notifications=None%}
   </script>

   <script type="text/html" id="notificationTemplate">
      {% include "yabase/app/notifications/notification.mustache" %}
   </script>

   <script type="text/html" id="programmingPageTemplate">
      {% include "yabase/app/programming/programmingPage.mustache" %}
   </script>
   <script type="text/html" id="programmingStatusPageTemplate">
      {% include "yabase/app/programming/statusPage.mustache" %}
   </script>
   <script type="text/html" id="playlistTemplate">
      {% include "yabase/app/programming/playlist.mustache" %}
   </script>
   <script type="text/html" id="songInstancesTemplate">
      {% include "yabase/app/programming/songInstances.mustache" %}
   </script>
   <script type="text/html" id="songInstanceCellTemplate">
      {% include "yabase/app/programming/songInstanceCell.mustache" %}
   </script>
   <script type="text/html" id="programmingStatusCellTemplate">
      {% include "yabase/app/programming/statusCell.mustache" %}
   </script>
   <script type="text/html" id="programmingStatusDetailsCellTemplate">
      {% include "yabase/app/programming/statusDetailsCell.mustache" %}
   </script>
   <script type="text/html" id="programmingToolbarTemplate">
      {% include "yabase/app/programming/programmingToolbar.mustache" %}
   </script>
   <script type="text/html" id="programmingFiltersTemplate">
      {% include "yabase/app/programming/programmingFilters.mustache" %}
   </script>
   <script type="text/html" id="importFromItunesTemplate">
      {% include "yabase/app/programming/importFromItunes.mustache" %}
   </script>
   <script type="text/html" id="importFromDeezerTemplate">
      {% include "yabase/app/programming/deezer/importFromDeezer.mustache" %}
   </script>
   <script type="text/html" id="deezerPlaylistCellTemplate">
      {% include "yabase/app/programming/deezer/playlistCell.mustache" %}
   </script>
   <script type="text/html" id="deezerTrackCellTemplate">
      {% include "yabase/app/programming/deezer/trackCell.mustache" %}
   </script>
   <script type="text/html" id="programmingUploadTemplate">
      {% include "yabase/app/programming/upload.mustache" %}
   </script>
   <script type="text/html" id="programmingUploadCellTemplate">
      {% include "yabase/app/programming/uploadCell.mustache" %}
   </script>
   <script type="text/html" id="programmingAddFromServerTemplate">
      {% include "yabase/app/programming/addFromServer.mustache" %}
   </script>
   <script type="text/html" id="yasoundSongCellTemplate">
      {% include "yabase/app/programming/yasoundSongCell.mustache" %}
   </script>


{% endif %}
   <script type='text/html' id='myRadiosPageTemplate'>
     {% include "yabase/app/myRadios/myRadiosPage.mustache" %}
   </script>
   <script type='text/html' id='radioWithStatsCellTemplate'>
     {% include "yabase/app/myRadios/radioWithStatsCell.mustache" %}
   </script>

   <script type='text/html' id='sharePageTemplate'>
     {% include "yabase/app/radio/sharePage.mustache" %}
   </script>

{% endblock %}

</head>
<body id='yasound'>
<div id="loading-mask" style="display:none;"></div>
<div id="loading" style="display:none;">
<span id="loading-message">{% trans "Loading application..." %}</span>
</div>

<script type="text/javascript">
    document.getElementById('loading-message').innerHTML = "{% trans 'Yasound' %}";
    document.getElementById('loading-mask').style.removeProperty("display");
    document.getElementById('loading').style.removeProperty("display");
</script>

{% block body %}

<div id="fb-root"></div>
<script>
   window.fbAsyncInit = function() {
    FB.init({
      appId      : '{{ facebook_app_id }}', // App ID
      channelUrl : '{{ facebook_channel_url }}',
      status     : true, // check login status
      cookie     : true, // enable cookies to allow the server to access the session
      xfbml      : true  // parse XFBML
    });

    // Additional initialization code here
  };

  // Load the SDK Asynchronously
  (function(d){
     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/en_US/all.js";
     ref.parentNode.insertBefore(js, ref);
   }(document));
 </script>



    <div class="navbar navbar-fixed-top" id='header'>
      <div class="navbar-inner">
        <div class="container">
      <div id="brand-logo" >
				<a href="{% url webapp app_name %}" id='btn-webapp'>
					<img src="/media/app/images/yasound-logo.png" width="110" height="86" alt="Logo Yasound">
				</a>
			</div>
      <div id="mobile-menu-logo">
        <a id='mobile-menu-btn-logo'>
          <img src="/media/app/images/brand-logo.png" width="138" height="23" alt="Logo Yasound">
        </a>
      </div>
      <div id='mobile-menu' class='visible-phone responsive-settings-btn'>
        <a id= 'mobile-menu-btn'>
          <img src="/media/app/images/phone-settings-icon.png" alt='phone settings icon'>
        </a>
      </div>
      <div class='visible-phone responsive-settings-btn2'>
        <div id="hd-button-mobile" class='hd-disabled'>
            &nbsp;
        </div>
      </div>
            <div id='player'>
            </div>
		</div>
	</div>
	</div>
	<div id='submenu-container' >{% include 'yabase/app/common/subMenu.mustache' with static=1%}</div>

<div class="modal hide fade" id="modal-share">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3>{% trans "Share" %}</h3>
    </div>
    <div class="modal-body">
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">{% trans "Close" %}</a>
    </div>
</div>

<div class="modal hide fade" id="modal-unfollow">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3>{% trans "Unfollow" %}</h3>
    </div>
    <div class="modal-body">
        <p>{% trans "Do you really want to unfollow this user ?" %}
        </p>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">{% trans "No thank you" %}</a>
        <a href="#" class="btn btn-primary">{% trans "Yes i want" %}</a>
    </div>
</div>

<div class="modal hide fade" id="modal-error">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3>{% trans "Connection error" %}</h3>
    </div>
    <div class="modal-body">
        <p>{% trans "Unable to connect Yasound server right now." %}
        </p>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">{% trans "Dismiss" %}</a>
        <a href="#" class="btn btn-primary">{% trans "Reload page" %}</a>
    </div>
</div>

<div class="modal hide fade" id="modal-error-disconnected">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3>{% trans "You are not logged in" %}</h3>
    </div>
    <div class="modal-body">
        <p>{% trans "You have to login to access the requested resource." %}
        </p>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">{% trans "Dismiss" %}</a>
        <a href="#" class="btn btn-primary">{% trans "Go to login page" %}</a>
    </div>
</div>

<div class="modal hide fade" id="modal-what-next">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3>{% trans "Welcome to Yasound" %}</h3>
    </div>
    <div class="modal-body">
        <p>{% trans "Welcome to Yasound" %}
        </p>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">{% trans "Close" %}</a>
    </div>
</div>

<div class="modal hide fade" id="modal-window">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3>Yasound</h3>
    </div>
    <div class="modal-body">
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">{% trans "Close" %}</a>
    </div>
</div>

<div class="modal hide fade" id="modal-dialog">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3></h3>
    </div>
    <div class="modal-body">
        <p>
        </p>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">{% trans "Close" %}</a>
    </div>
</div>


<div id='webapp-container-parent'>
<div id='webapp-container'>
  {% include "yabase/app/mobileLeftMenu.html" %}
  {% include "yabase/app/mobileCenterMenu.html" %}

  <div class='container' id='teaser' style='display:none;'>
    <div class='row'>
      <div class='span4' id='teaser-listen'>
          {% url webapp_top app_name as link %}
          {% blocktrans %}<p><a href='{{ link }}'>Listen</a> to the biggest radio database in the world</p>{% endblocktrans %}
          <img src='/media/app/images/teaser/listen.png' width='223' height='197'/>
      </div>
      <div class='span4' id='teaser-share'>
          {% url webapp_friends app_name as link %}
          {% blocktrans %}<p><a href='{{ link }}'>Share</a> your listening<br/>with your friends</p>{% endblocktrans %}
          <img src='/media/app/images/teaser/share.png' width='249' height='197'/>
      </div>
      <div class='span4 last' id='teaser-create'>
          <div id='close-btn-container'>
            <a id='close-btn' class="yabutton-small" href="#"><i class="icon-remove"></i> {% trans "Close" %}</a>
          </div>
          {% url webapp_myradios app_name as link %}
          {% blocktrans %}<p><a href='{{ link }}'>Create</a> your radio <br/>easily</p>{% endblocktrans %}
          <img src='/media/app/images/teaser/create.png' width='196' height='197'/>

      </div>
    </div>
  </div>

  {% block content%}{%endblock%}</div>
</div>
<div id='pre-footer'>&nbsp;</div>
<div id='footer'>
  {% include "yabase/app/footer.html" %}
</body>
{% endblock %}

{% ifnotequal sound_player 'deezer' %}
<div id="dz-root"></div>
<script src="https://cdns-files.deezer.com/js/min/dz.js"></script>
<script>
  DZ.init({
    appId  : {{ deezer_app_id }},
    channelUrl : '{{ deezer_channel_url }}'
  });
</script>
{% endifnotequal %}

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-27871295-2']);
  _gaq.push(['_setDomainName', 'yasound.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</html>

